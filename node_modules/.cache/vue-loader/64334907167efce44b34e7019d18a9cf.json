{"remainingRequest":"D:\\projects\\mini-social\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\projects\\mini-social\\src\\components\\Layout.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\projects\\mini-social\\src\\components\\Layout.vue","mtime":1748988291897},{"path":"D:\\projects\\mini-social\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1748988017399},{"path":"D:\\projects\\mini-social\\node_modules\\vue-loader\\lib\\index.js","mtime":1748988022489}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JwppbXBvcnQgUHJvZmlsZSBmcm9tICcuL1Byb2ZpbGUudnVlJwppbXBvcnQgVXNlcnNMaXN0IGZyb20gJy4vVXNlcnNMaXN0LnZ1ZScKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFByb2ZpbGUsIFVzZXJzTGlzdCB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93TG9naW46IGZhbHNlLAogICAgICBzaG93UmVnaXN0ZXI6IGZhbHNlLAogICAgICBzaG93UHJvZmlsZTogZmFsc2UsCiAgICAgIGxvZ2luTmFtZTogJycsCiAgICAgIHJlZ2lzdGVyTmFtZTogJycsCiAgICAgIHJlZ2lzdGVyQWdlOiAnJwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWydjdXJyZW50VXNlciddKQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucyhbJ2ZldGNoVXNlcnMnLCAnc2F2ZUN1cnJlbnRVc2VyJ10pLAogICAgbG9naW4oKSB7CiAgICAgIGNvbnN0IHVzZXIgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2Vycy5maW5kKHUgPT4gdS5mdWxsTmFtZSA9PT0gdGhpcy5sb2dpbk5hbWUpCiAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDdXJyZW50VXNlcicsIHVzZXIpCiAgICAgICAgdGhpcy5zaG93TG9naW4gPSBmYWxzZQogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCfQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0L3QtSDQvdCw0LnQtNC10L0nKQogICAgICB9CiAgICB9LAogICAgcmVnaXN0ZXIoKSB7CiAgICAgIGNvbnN0IG5ld1VzZXIgPSB7CiAgICAgICAgaWQ6IERhdGUubm93KCksCiAgICAgICAgZnVsbE5hbWU6IHRoaXMucmVnaXN0ZXJOYW1lLAogICAgICAgIGFnZTogdGhpcy5yZWdpc3RlckFnZSwKICAgICAgICBmcmllbmRzOiBbXQogICAgICB9CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2VycycsIG5ld1VzZXIpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0Q3VycmVudFVzZXInLCBuZXdVc2VyKQogICAgICAgIHRoaXMuZmV0Y2hVc2VycygpCiAgICAgICAgdGhpcy5zaG93UmVnaXN0ZXIgPSBmYWxzZQogICAgICB9KQogICAgfSwKICAgIGxvZ291dCgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRDdXJyZW50VXNlcicsIG51bGwpCiAgICAgIHRoaXMuc2hvd1Byb2ZpbGUgPSBmYWxzZQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hVc2VycygpCiAgfQp9Cg=="},{"version":3,"sources":["Layout.vue"],"names":[],"mappings":";AA+DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Layout.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <nav class=\"navbar navbar-expand navbar-light bg-light\">\n      <div class=\"container\">\n        <a class=\"navbar-brand\" href=\"#\">Mini Social</a>\n        <div class=\"ml-auto\" v-if=\"!currentUser\">\n          <button class=\"btn btn-outline-success mr-2\" @click=\"showLogin = true\">Войти</button>\n          <button class=\"btn btn-outline-primary\" @click=\"showRegister = true\">Регистрация</button>\n        </div>\n        <div class=\"ml-auto\" v-else>\n          <span class=\"mr-3\">Здравствуйте, <a href=\"#\" @click=\"showProfile = true\">{{ currentUser.fullName }}</a></span>\n          <button class=\"btn btn-outline-danger\" @click=\"logout\">Выйти</button>\n        </div>\n      </div>\n    </nav>\n\n    <div class=\"container mt-4\">\n      <Profile v-if=\"showProfile\" />\n      <UsersList v-else />\n    </div>\n\n    <footer class=\"bg-light text-center py-3 mt-4\">\n      <small>&copy; 2025 Mini Social</small>\n    </footer>\n\n    <div class=\"modal\" tabindex=\"-1\" role=\"dialog\" style=\"display:block\" v-if=\"showLogin\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">Вход</h5>\n            <button type=\"button\" class=\"close\" @click=\"showLogin = false\"><span>&times;</span></button>\n          </div>\n          <div class=\"modal-body\">\n            <input v-model=\"loginName\" class=\"form-control\" placeholder=\"ФИО\">\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn btn-primary\" @click=\"login\">Войти</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"modal\" tabindex=\"-1\" role=\"dialog\" style=\"display:block\" v-if=\"showRegister\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">Регистрация</h5>\n            <button type=\"button\" class=\"close\" @click=\"showRegister = false\"><span>&times;</span></button>\n          </div>\n          <div class=\"modal-body\">\n            <input v-model=\"registerName\" class=\"form-control mb-2\" placeholder=\"ФИО\">\n            <input v-model=\"registerAge\" type=\"number\" class=\"form-control\" placeholder=\"Возраст\">\n          </div>\n          <div class=\"modal-footer\">\n            <button class=\"btn btn-success\" @click=\"register\">Зарегистрироваться</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport Profile from './Profile.vue'\nimport UsersList from './UsersList.vue'\n\nexport default {\n  components: { Profile, UsersList },\n  data() {\n    return {\n      showLogin: false,\n      showRegister: false,\n      showProfile: false,\n      loginName: '',\n      registerName: '',\n      registerAge: ''\n    }\n  },\n  computed: {\n    ...mapGetters(['currentUser'])\n  },\n  methods: {\n    ...mapActions(['fetchUsers', 'saveCurrentUser']),\n    login() {\n      const user = this.$store.state.users.find(u => u.fullName === this.loginName)\n      if (user) {\n        this.$store.commit('setCurrentUser', user)\n        this.showLogin = false\n      } else {\n        alert('Пользователь не найден')\n      }\n    },\n    register() {\n      const newUser = {\n        id: Date.now(),\n        fullName: this.registerName,\n        age: this.registerAge,\n        friends: []\n      }\n      this.$axios.post('http://localhost:3000/users', newUser).then(() => {\n        this.$store.commit('setCurrentUser', newUser)\n        this.fetchUsers()\n        this.showRegister = false\n      })\n    },\n    logout() {\n      this.$store.commit('setCurrentUser', null)\n      this.showProfile = false\n    }\n  },\n  created() {\n    this.fetchUsers()\n  }\n}\n</script>\n"]}]}